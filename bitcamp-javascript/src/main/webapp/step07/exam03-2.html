<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>자바스크립트</title>
</head>
<body>
<h1>프로그래밍으로 이벤트 발생 시키기 - 클릭 이벤트 발생시키기</h1>
<span id="txt1">이벤트 발생 시키기</span>
<button id="btn1">버튼1</button>
<script>
"use strict";

// 커스텀 이벤트?
// => 기존에 존재하는 이벤트가 아닌 새 이벤트를 만들 수 있다.
// => 이벤트에 특정 값을 첨부하려면 detail 이름으로 값을 설정해야한다.
btn1.onclick = function(event) {
    console.log("버튼 눌렀음");
    // 1) 발생시킬 이벤트 객체를 준비한다.
    // => 첫 번째 파라미터는 이벤트 이름
    // => 두 번째 파라미터는 이벤트에 첨부할 값.
    //    단 detail이라는 이름으로 값을 첨부해야한다.
    var e = new CustomEvent("okok", {
        detail : {
            name : "홍길동",
            age : 20,
            working : false
        }
    });

    // 2) 이벤트가 발생할 대상 객체에 대해 dispatchEvent()를 호출한다.
    btn1.dispatchEvent(e);
};

btn1.addEventListener("okok", function (event) {
    console.log("name=", event.detail.name);
    console.log("age=", event.detail.age);
    console.log("working=", event.detail.working);
});


</script>
</body>
</html>