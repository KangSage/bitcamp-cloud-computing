<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>자바스크립트</title>
</head>
<body>
<h1>클로저(closure) - 바깥 함수의 로컬 변수 복제 II</h1>
<script>
"use strict";
function outer(p1) {
    // 함수를 여러개 리턴해보자.
    // 어떻게? 객체에 담아서 리턴하면 된다.
    var obj = new Object();
    obj.f1 = function () {p1 += 1};
    obj.f2 = function () {p1 += 10};
    obj.f3 = function () {p1 += 100};
    obj.f4 = function () {console.log(p1)};
    return obj;
}

var x = outer(100); // outer() 함수가 3개 들어있는 객체를 리턴한다.
var y = outer(200);

x.f2(); // 110
x.f2(); // 120

y.f1(); // 201
y.f3();

x.f4();
y.f4();

// 자바의 프라이빗 인스턴스와 비슷하다.
</script>
</body>
</html>